<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>sui-mobile标签页滑动切换</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">
  <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css">

</head>
<body>
<div class="page-group">
  <div class="page page-current">
    <header class="bar bar-nav">
      <h1 class='title'>标签页</h1>
    </header>
    <div class="content">
      <div class="buttons-tab">
        <a href="#tab1" class="tab-link active button">全部</a>
        <a href="#tab2" class="tab-link button">待付款</a>
        <a href="#tab3" class="tab-link button">待发货</a>
      </div>
      <div class="content-block">
        <div class="tabs">
          <div id="tab1" class="tab active">
            <div class="content-block">
              <p>This is tab 1 content</p>
              <p>滑动切换效果实现，但是因为全局监听了触摸效果，会影响上下触摸滚动内容展示，只适合tab内容不满一屏的网页使用。</p>
            </div>
          </div>
          <div id="tab2" class="tab">
            <div class="content-block">
              <p>This is tab 2 content</p>
              <p>使用方法：标签栏href属性按照#tab1，#tab2,......#tab5....累加。</p>
              <p>使用方法：标签页id属性按照tab1，tab2,......tab5....累加。</p>
            </div>
          </div>
          <div id="tab3" class="tab">
            <div class="content-block">
              <b>只适合tab单页内容不满一屏的网页使用。</b>
              <p>有疑问：<a href="http://www.i-mprove.cc/?page_id=2" target="_blank">cc@i-mprove.cc</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script>

</body>
</html>
<script>
  'use strict';var _Mathabs=Math.abs;window.onload=function(){function a(g,j){return 180*Math.atan2(j,g)/Math.PI}function b(g,j,k,l){var m=j-l,n=k-g,o=0,p=$('.tabs').offset().top;if(2>_Mathabs(n)&&2>_Mathabs(m))return o;var q=a(n,m);return-45<=q&&45>q?o=4:(135<=q&&180>=q||-180<=q&&-135>q)&&(o=3),o}var c=document.documentElement.clientHeight,d=document.getElementsByTagName('body')[0];d.style.height=c+'px';var e,f;d.addEventListener('touchstart',function(g){g.preventDefault(),e=g.touches[0].pageX,f=g.touches[0].pageY},{passive:!1}),d.addEventListener('touchmove',function(g){var j,k;g.preventDefault(),j=g.changedTouches[0].pageX,k=g.changedTouches[0].pageY;var l=b(e,f,j,k);switch(l){case 3:for(var m=1;m<=$('.tab').length;m++)if($('#tab'+$('.tab').length).hasClass('active')){$.toast('\u6CA1\u6709\u4E86\uFF01');break}else if($('#tab'+[m]).hasClass('active'))return $('#tab'+[m]).css({transform:'translateX(-100%)',transition:'all 1s ease'}),$('.buttons-tab .tab-link').eq([m]-1).removeClass('active'),$('.buttons-tab .tab-link').eq(m).addClass('active'),void setTimeout(function(){$('#tab'+[m]).css({transform:'translateX(0)',transition:'all 0s ease'}),$('#tab'+[m]).removeClass('active'),$('#tab'+[m+1]).addClass('active')},1e3);break;case 4:for(var m=1;m<=$('.tab').length;m++)if($('#tab1').hasClass('active')){$.toast('\u6CA1\u6709\u4E86\uFF01');break}else if($('#tab'+[m]).hasClass('active'))return $('#tab'+[m]).css({transform:'translateX(100%)',transition:'all 1s ease'}),$('.buttons-tab .tab-link').eq([m-1]).removeClass('active'),$('.buttons-tab .tab-link').eq([m-2]).addClass('active'),void setTimeout(function(){$('#tab'+[m]).css({transform:'translateX(0)',transition:'all 0s ease'}),$('#tab'+[m]).removeClass('active'),$('#tab'+[m-1]).addClass('active')},1e3);break;default:}},{passive:!1})};
</script>
